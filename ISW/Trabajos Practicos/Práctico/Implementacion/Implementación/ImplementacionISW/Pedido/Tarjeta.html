
<!DOCTYPE html>
<html lang="en" ng-app="tarjetaVisa" ng-controller="tarjetaCtrl">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Pago con tarjeta</title>

    <link rel="stylesheet" href="Content/bootstrap.css" />
    <link rel="stylesheet" href="Content/Site.css" />

    <!--<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">-->


</head>
  <body >
        
        <div class="mx-2">
            <div class="">
                <div class="panel panel-info">

                    <div class="form-group">
                        <div class="col-12 col-form-label text-center mb-2 p-0 alert alert-info"><b>Ingrese datos de tarjeta</b>
                        <img src="Imagenes/Visa-2014-logo-blue.png" class="img-responsive" width="50" height="50">
                        </div>
                    </div>

                    <div class="m-4" ng-show="mostrarResultado">
                        <div class="alert" ng-class="{'alert-success': aceptado, 'alert-danger': !aceptado}">
                            {{mensaje}}
                        </div>
                    </div>
            <div class="panel-body">
                        <form novalidate name="myForm" class="form-horizontal" >

                                <div class="form-group col-md-12" ng-class="{'has-error': (myForm.nombre.$invalid && myForm.nombre.$touched)}">
                                    <label><b> Nombre del Titular </b></label>
                                    <input class="form-control" type="text" name="nombre" ng-model="nombre" required/>
                                    <label class="control-label" ng-show="myForm.nombre.$error.required && myForm.nombre.$touched">
                                        Se requiere nombre del titular.
                                    </label>
                                </div>
                            
                            <div class="form-group col-md-12" ng-class="{'has-error': (myForm.nroDoc.$invalid && myForm.nroDoc.$touched)}">
                                <label><b>DNI titular </b></label>
                                <span>
                                    <input class="form-control" type="number" name="nroDoc" ng-model="nroDoc" ng-maxlength="8" required/>
                                    <label class="control-label" ng-show="(myForm.nroDoc.$error.required && myForm.nroDoc.$touched)">
                                            Ingrese documento del titular.
                                    </label>
                                </span>
                                
                              </div>
                            
                              <div class="form-group col-md-12" ng-class="{'has-error': (myForm.nroDoc.$invalid && myForm.nroDoc.$touched) || !nroVisa}">
                                <label><b> Número tarjeta </b></label>
                                <input class="form-control" type="number" name="nro" ng-model="nro" ng-maxlength="16" ng-minlenght="16" ng-pattern="/^[0-9]{16}$/" required/>
                                <label class="control-label" ng-show="(myForm.nro.$error.required && myForm.nro.$touched) || !nroVisa">
                                   Ingrese un número de tarjeta válido
                                </label>

                                <label class="control-label" ng-show="(myForm.nro.$error.minlenght || myForm.nro.$error.pattern ||myForm.nro.$error.maxlength)">
                                    Formato invalido.
                                </label>
                              </div>
                            
                              <div class="form-group col-md-12" ng-class="{'has-error': (myForm.codigo.$invalid && myForm.codigo.$touched)}">
                                  <label><b>Código de seguridad</b></label>
                                  <input class="form-control" type="number" name="codigo" ng-model="codigo" ng-pattern="/^[0-9]{3}$/" ng-maxlength="3" required />
                                  <label class="control-label" ng-show="myForm.codigo.$error.required && myForm.codigo.$touched">
                                      Ingrese código de seguridad.
                                  </label>
                                  <label class="control-label" ng-show="myForm.codigo.$error.pattern">
                                      Formato invalido.
                                  </label>
                              </div>



                              <div class="form-group col-md-12" ng-class="{'has-error': (myForm.fecha.$invalid && myForm.fecha.$touched)}">
                                  <label><b>Fecha de vencimiento</b></label>
                                  <input class="form-control" placeholder="MM/AA" name="fecha" ng-model="fecha" ng-pattern="/^[0-9]{2}[/][0-9]{2}$/" required />
                                  <label class="control-label" ng-show="(myForm.fecha.$error.pattern)">
                                      Formato invalido.
                                  </label>
                                  <label class="control-label" ng-show="(myForm.fecha.$error.required && myForm.fecha.$touched)">
                                      Ingrese fecha de vencimiento
                                  </label>



                              </div>
                            
                           
                           <div class="">
                                 <button class="btn btn-primary offset-8" ng-disabled="myForm.$invalid || myForm.$error.pattern || myForm.$error.required" ng-click="Pagar()">Pagar</button>
                               </div>
                             
                            
                              
                            
                            

                          

                        </form>
                        
                        


            </div>
        </div>
            </div>
            

        </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
        <script src="Scripts/angular.js"></script>
        
        <script src="app/app.module.js"></script>
        <script src="app/tarjetaController.js"></script>
    </body>
</html>
